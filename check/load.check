#!/bin/bash

check_load()
##CHECKDSC check system load (15 min interval)
#
##PARMNAME $1
##PARMDESC threshold for critical load
##PARMDFLT 8
#
##PARMNAME $2
##PARMDESC threshold for load warning
##PARMDFLT 7
{
    # receive parameters and set defaults
    local CRITICAL="${1:-8}"
    local WARNING="${2:-7}"

    # get load via uptime(1)
    # delegate computation to perl (bash can't to float math)
    LANG=C uptime | check/wrapper/load.pl "$CRITICAL" "$WARNING"
}
